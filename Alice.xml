<context>
  <input pattern="* (привет*|здравствуй*|хай*|здарова*) *">
    <!-- Здороваемся если знаем имя -->
    <output value="Привет $UserName!" if="full($UserName)"/>
	<context>	
	  <input pattern="* $Color"/>
		<var name="Color"/>
		<sample lang="ru">
  		<item value="ЗУП"/>
  		<item value="БП"/>
 	 	<item value="УТ"/>
		</sample>
		</context>

    <!-- Или переходим к внутреннему контексту чтобы выяснить имя -->
    <context if="empty($UserName)">
      <output value="Здравствуйте! А как Вас зовут?"/>

        <input pattern="$Text">
          <!-- Сохранем мия пользователя в переменную UserName -->
          <var name="UserName" value="cap($Text)" scope="user"/>
          <output value="Приятно познакомиться, $UserName! Какой у Вас вопрос?"/>
		<context>
		<sample lang="ru">
  		<item value="Белый"/>
  		<item value="Синий"/>
 	 	<item value="Красный"/>
		</sample>
		</context>
        </input>
      </context>
    </input>
</context>
